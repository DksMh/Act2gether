<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>여행 추천 플랫폼 - 관심사</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/interestonboarding.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link
      rel="stylesheet"
      as="style"
      crossorigin
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css"
    />
    <script src="/js/interestonboarding.js"></script>
  </head>
  <body>
    <!-- Header -->
    <div th:replace="header :: header"></div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner">
      <div class="spinner"></div>
    </div>

    <!-- Main Container -->
    <div class="onboarding-container">
      <!-- Interest Selection Page (기본정보 단계 제거) -->
      <div id="interestSelection" class="interest-selection">
        <div class="page-header">
          <h1 class="page-title">관심사 설정</h1>
          <p class="page-subtitle">
            맞춤형 여행 추천을 위해 관심사를 선택해주세요.<br />
            <span class="highlight">여러 개</span>를 선택할 수 있습니다.
          </p>
        </div>

        <!-- Questions -->
        <div class="question-section">
          <h3 class="question-title">1. 어떤 지역을 선호하시나요?</h3>
          <p class="question-subtitle">복수 선택 가능</p>
          <div class="options-grid" id="regionOptions">
            <button class="option-button" data-value="서울">서울</button>
            <button class="option-button" data-value="부산">부산</button>
            <button class="option-button" data-value="대구">대구</button>
            <button class="option-button" data-value="인천">인천</button>
            <button class="option-button" data-value="광주">광주</button>
            <button class="option-button" data-value="대전">대전</button>
            <button class="option-button" data-value="울산">울산</button>
            <button class="option-button" data-value="세종">세종</button>
            <button class="option-button" data-value="경기">경기</button>
            <button class="option-button" data-value="강원">강원</button>
            <button class="option-button" data-value="충북">충북</button>
            <button class="option-button" data-value="충남">충남</button>
            <button class="option-button" data-value="전북">전북</button>
            <button class="option-button" data-value="전남">전남</button>
            <button class="option-button" data-value="경북">경북</button>
            <button class="option-button" data-value="경남">경남</button>
            <button class="option-button" data-value="제주">제주</button>
          </div>
        </div>

        <!-- 2. 장소 선택 (투어 검색과 동일한 7개 그룹) -->
        <div class="question-section">
          <h3 class="question-title">2. 어떤 장소로 가고 싶으신가요?</h3>
          <p class="question-subtitle">복수 선택 가능 (최대 6개)</p>

          <!-- 자연관광지 그룹 -->
          <div class="place-group">
            <h4 class="place-group-title">🏞️ 자연관광지</h4>
            <div class="options-grid place-grid">
              <button class="option-button" data-value="해변">해변</button>
              <button class="option-button" data-value="산/공원">
                산/공원
              </button>
              <button class="option-button" data-value="계곡/폭포">
                계곡/폭포
              </button>
              <button class="option-button" data-value="호수/강">
                호수/강
              </button>
              <button class="option-button" data-value="수목원">수목원</button>
              <button class="option-button" data-value="자연휴양림">
                자연휴양림
              </button>
              <button class="option-button" data-value="자연생태관광지">
                자연생태관광지
              </button>
            </div>
          </div>

          <!-- 역사관광지 그룹 -->
          <div class="place-group">
            <h4 class="place-group-title">🏛️ 역사관광지</h4>
            <div class="options-grid place-grid">
              <button class="option-button" data-value="고궁/문">
                고궁/문
              </button>
              <button class="option-button" data-value="민속마을/가옥">
                민속마을/가옥
              </button>
              <button class="option-button" data-value="유적지">유적지</button>
              <button class="option-button" data-value="사찰">사찰</button>
              <button class="option-button" data-value="종교성지">
                종교성지
              </button>
            </div>
          </div>

          <!-- 휴양관광지 그룹 -->
          <div class="place-group">
            <h4 class="place-group-title">🛀 휴양관광지</h4>
            <div class="options-grid place-grid">
              <button class="option-button" data-value="온천">온천</button>
              <button class="option-button" data-value="테마파크">
                테마파크
              </button>
              <button class="option-button" data-value="관광단지">
                관광단지
              </button>
              <button class="option-button" data-value="창질방">창질방</button>
              <button class="option-button" data-value="유람선/잠수함관광">
                유람선/잠수함관광
              </button>
            </div>
          </div>

          <!-- 체험관광지 그룹 -->
          <div class="place-group">
            <h4 class="place-group-title">🎨 체험관광지</h4>
            <div class="options-grid place-grid">
              <button class="option-button" data-value="체험">체험</button>
            </div>
          </div>

          <!-- 문화시설 그룹 -->
          <div class="place-group">
            <h4 class="place-group-title">🖼️ 문화시설</h4>
            <div class="options-grid place-grid">
              <button class="option-button" data-value="박물관">박물관</button>
              <button class="option-button" data-value="미술관">미술관</button>
            </div>
          </div>

          <!-- 육상레포츠 그룹 -->
          <div class="place-group">
            <h4 class="place-group-title">🏃 육상레포츠</h4>
            <div class="options-grid place-grid">
              <button class="option-button" data-value="트래킹">트래킹</button>
              <button class="option-button" data-value="골프장">골프장</button>
              <button class="option-button" data-value="스키장">스키장</button>
              <button class="option-button" data-value="캠핑장">캠핑장</button>
            </div>
          </div>

          <!-- 수상레포츠 그룹 -->
          <div class="place-group">
            <h4 class="place-group-title">🏊 수상레포츠</h4>
            <div class="options-grid place-grid">
              <button class="option-button" data-value="낚시">낚시</button>
            </div>
          </div>
        </div>

        <!-- 3. 편의시설 선택 (투어 검색과 동일) -->
        <div class="question-section">
          <h3 class="question-title">
            3. 개인적으로 필요한 사항이 있으신가요?
          </h3>
          <p class="question-subtitle">하나만 선택 가능</p>
          <div class="options-grid" id="needsOptions">
            <button class="option-button" data-value="주차 편의">
              🅿️ 주차 편의
            </button>
            <button class="option-button" data-value="접근 편의">
              🛤️ 접근 편의
            </button>
            <button class="option-button" data-value="시설 편의">
              🚻 시설 편의
            </button>
            <button class="option-button" data-value="필요없음">
              필요없음
            </button>
          </div>
        </div>

        <!-- Button Group -->
        <div class="button-group">
          <button class="btn btn-secondary" onclick="skipOnboarding()">
            나중에 설정
          </button>
          <button class="btn btn-primary" onclick="completeOnboarding()">
            완료
          </button>
        </div>

        <!-- 메시지 영역 -->
        <div class="message-area">
          <div id="interestErrorMessage" class="error-message">
            <p id="interestErrorText">
              관심사 저장에 실패했습니다. 다시 시도해주세요.
            </p>
            <button class="retry-button" onclick="retryInterestSubmission()">
              다시 시도
            </button>
          </div>

          <div id="successMessage" class="success-message">
            <p>관심사가 성공적으로 저장되었습니다!</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div th:replace="footer :: footer"></div>
  </body>
</html>
