<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>여행 추천 플랫폼 - 관심사</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/interestonboarding.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap"
      rel="stylesheet"
    />
    <script src="/js/interestonboarding.js"></script>
  </head>
  <body>
    <!-- Header -->
    <div th:replace="header :: header"></div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner">
      <div class="spinner"></div>
    </div>

    <!-- Main Container -->
    <div class="onboarding-container">
      <!-- Interest Selection Page (기본정보 단계 제거) -->
      <div id="interestSelection" class="interest-selection">
        <div class="page-header">
          <h1 class="page-title">관심사 설정</h1>
          <p class="page-subtitle">
            맞춤형 여행 추천을 위해 관심사를 선택해주세요.<br />
            <span class="highlight">여러 개</span>를 선택할 수 있습니다.
          </p>
        </div>

        <!-- Questions -->
        <div class="question-section">
          <h3 class="question-title">1. 어떤 지역을 선호하시나요?</h3>
          <p class="question-subtitle">복수 선택 가능</p>
          <div class="options-grid" id="regionOptions">
            <button class="option-button" data-value="서울">서울</button>
            <button class="option-button" data-value="부산">부산</button>
            <button class="option-button" data-value="대구">대구</button>
            <button class="option-button" data-value="인천">인천</button>
            <button class="option-button" data-value="광주">광주</button>
            <button class="option-button" data-value="대전">대전</button>
            <button class="option-button" data-value="울산">울산</button>
            <button class="option-button" data-value="세종">세종</button>
            <button class="option-button" data-value="경기">경기</button>
            <button class="option-button" data-value="강원">강원</button>
            <button class="option-button" data-value="충북">충북</button>
            <button class="option-button" data-value="충남">충남</button>
            <button class="option-button" data-value="전북">전북</button>
            <button class="option-button" data-value="전남">전남</button>
            <button class="option-button" data-value="경북">경북</button>
            <button class="option-button" data-value="경남">경남</button>
            <button class="option-button" data-value="제주">제주</button>
          </div>
        </div>

        <div class="question-section">
          <h3 class="question-title">2. 어떤 장소로 가고 싶으신가요?</h3>
          <p class="question-subtitle">복수 선택 가능</p>
          <div class="options-grid" id="placeOptions">
            <button class="option-button" data-value="해변">해변</button>
            <button class="option-button" data-value="산">산</button>
            <button class="option-button" data-value="도시관광">
              도시관광
            </button>
            <button class="option-button" data-value="시골">시골</button>
            <button class="option-button" data-value="호수">호수</button>
            <button class="option-button" data-value="온천지역">
              온천지역
            </button>
            <button class="option-button" data-value="섬지역">섬지역</button>
          </div>
        </div>

        <div class="question-section">
          <h3 class="question-title">
            3. 개인적으로 필요한 사항이 있으신가요?
          </h3>
          <p class="question-subtitle">복수 선택 가능</p>
          <div class="options-grid" id="needsOptions">
            <button class="option-button" data-value="접근성">접근성</button>
            <button class="option-button" data-value="휠체어">휠체어</button>
            <button class="option-button" data-value="유치원시설">
              유치원시설
            </button>
            <button class="option-button" data-value="병원">병원</button>
            <button class="option-button" data-value="약국">약국</button>
            <button class="option-button" data-value="응급실">응급실</button>
            <button class="option-button" data-value="없음">없음</button>
          </div>
        </div>

        <!-- Button Group -->
        <div class="button-group">
          <button class="btn btn-secondary" onclick="skipOnboarding()">
            나중에 설정
          </button>
          <button class="btn btn-primary" onclick="completeOnboarding()">
            완료
          </button>
        </div>

        <!-- 메시지 영역 -->
        <div class="message-area">
          <div id="interestErrorMessage" class="error-message">
            <p id="interestErrorText">
              관심사 저장에 실패했습니다. 다시 시도해주세요.
            </p>
            <button class="retry-button" onclick="retryInterestSubmission()">
              다시 시도
            </button>
          </div>

          <div id="successMessage" class="success-message">
            <p>관심사가 성공적으로 저장되었습니다!</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div th:replace="footer :: footer"></div>
  </body>
</html>