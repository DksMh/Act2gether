<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>고객센터 - FAQ</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/faq.css" />
    <!-- <link rel="stylesheet" href="/css/customerservice.css" /> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/js/faq.js"></script>
  </head>
  <body>
    <!-- Header -->
    <div th:replace="header :: header"></div>

    <!-- FAQ 본문 -->
    <section class="customerservice-section">
      <!-- 상단 배너 -->
      <div class="page-title">
        <h1>FAQ</h1>
        <p>
          여기부터 서비스 이용 중 불편한 점이나 궁금한 사항은 FAQ를 통해
          해결해보세요.
        </p>
      </div>
      <!-- FAQ 목록 -->
      <ul class="faq-list">
        <!-- 질문 1 -->
        <li class="faq-item">
          <button class="faq-question" type="button" aria-expanded="true">
            <span class="q-label">Q</span>
            <span class="category">[이용 방법]</span>
            서비스 이용은 유료인가요?
            <span class="faq-toggle-icon">▲</span>
          </button>
          <div class="faq-answer">
            <p>
              기본 기능(여행지 탐색, 필터, 즐겨찾기, Q&A 게시판 열람)은
              무료입니다. 다만, 페이지 내 일부 링크는 제휴/광고가 포함된
              <b>외부 사이트</b>로 이동하며, 예약·결제가 필요한 경우
              <b>해당 외부 사이트에서</b> 비용이 발생할 수 있습니다. 우리
              서비스는 결제/예약을 제공하지 않습니다.
            </p>
          </div>
        </li>

        <!-- 질문 2 -->
        <li class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span class="q-label">Q</span>
            <span class="category">[이용 방법]</span>
            실제 투어를 운영하거나 동행을 매칭해 주나요?
            <span class="faq-toggle-icon">▲</span>
          </button>
          <div class="faq-answer">
            <p>
              아니요. 우리는 여행 정보 큐레이션 및 링크 제공 서비스입니다.
              가이드 동행, 패키지 운영, 동행자 매칭은 제공하지 않습니다.
            </p>
          </div>
        </li>

        <!-- 질문 3 -->
        <li class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span class="q-label">Q</span>
            <span class="category">[이용 방법]</span>
            ‘투어 상세페이지의 지역별 참고 정보(꿀정보)’는 뭐예요?
            <span class="faq-toggle-icon">▼</span>
          </button>
          <div class="faq-answer" hidden>
            <p>
              지자체·관광기관·파트너가 제공하는
              <b>외부 정보(제휴/광고 포함)</b>를 한 화면에 모아 보여줍니다.
              <em>모든 지역에서 동일하게 제공되지는 않으며</em>, 더 다양한
              정보를 위해 관련 기관·기업과의 <b>협업을 지속 확대</b>하고
              있습니다. 자세한 내용·이용조건·문의는 각 제공처에 확인해 주세요.
            </p>
          </div>
        </li>
        <!-- 질문 4 -->
        <li class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span class="q-label">Q</span>
            <span class="category">[이용 방법]</span>
            커뮤니티 활동은 어떻게 이루어지나요?
            <span class="faq-toggle-icon">▼</span>
          </button>
          <div class="faq-answer" hidden>
            <p>
              온라인 게시판과 채팅 기능을 통해 투어 후기를 공유하거나 동행자를
              모집할 수 있습니다. 이후 오프라인 모임으로 이어지는 수도 있으니
              관심사가 비슷한 분들과 자유롭게 소통하며 연을 이어나가보세요.
            </p>
          </div>
        </li>
        <!-- 질문 5 -->
        <li class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span class="q-label">Q</span>
            <span class="category">[이용 방법]</span>
            여행이 처음인 초보자도 참여할 수 있나요?
            <span class="faq-toggle-icon">▼</span>
          </button>
          <div class="faq-answer" hidden>
            <p>
              가능해요. 난이도·동선·편의시설 필터로 본인에게 맞는 정보를 골라볼
              수 있도록 돕습니다. 다만, 저희 서비스에서는 현장 안내/가이드를
              제공하지 않습니다.
            </p>
          </div>
        </li>
      </ul>
    </section>

    <!-- Footer -->
    <div th:replace="footer :: footer"></div>
    <script>
      // FAQ 아코디언 기능 구현
      $(document).ready(function () {
        // 페이지 로드 시 모든 답변 숨기기 (aria-expanded="true"인 항목 제외)
        $(".faq-item").each(function () {
          const $question = $(this).find(".faq-question");
          const $answer = $(this).find(".faq-answer");
          const $icon = $(this).find(".faq-toggle-icon");

          if ($question.attr("aria-expanded") === "true") {
            $answer.show();
            $icon.text("▲");
          } else {
            $answer.hide();
            $icon.text("▼");
            $question.attr("aria-expanded", "false");
          }
        });

        // FAQ 질문 클릭 이벤트
        $(".faq-question").on("click", function () {
          const $this = $(this);
          const $faqItem = $this.closest(".faq-item");
          const $answer = $faqItem.find(".faq-answer");
          const $icon = $this.find(".faq-toggle-icon");
          const isExpanded = $this.attr("aria-expanded") === "true";

          if (isExpanded) {
            // 현재 열려있는 경우 - 닫기
            $answer.slideUp(300);
            $icon.text("▼");
            $this.attr("aria-expanded", "false");
          } else {
            // 현재 닫혀있는 경우 - 열기
            $answer.slideDown(300);
            $icon.text("▲");
            $this.attr("aria-expanded", "true");
          }
        });

        // 키보드 접근성 지원 (Enter, Space 키)
        $(".faq-question").on("keydown", function (e) {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            $(this).click();
          }
        });
      });
    </script>
  </body>
</html>
